(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))d(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(a){if(a.ep)return;a.ep=!0;const n=t(a);fetch(a.href,n)}})();const m={persona:null,hour:0,analyserNode:null,isAutoPlaying:!1,autoPlayInterval:null},A={engine:"#ff6b6b",machinery:"#ff9f43",impact:"#ffd32a",saw:"#26de81",alert:"#fd79a8",music:"#a29bfe",busking:"#c49bfe",voice:"#74b9ff",dog:"#55efc4"},I={engine:["small engine","medium engine","large engine"],machinery:["rock drill","jackhammer","hoe-ram","pile driver"],impact:["non-machinery impact"],saw:["chainsaw","rotating saw"],alert:["car horn","car alarm","siren","reverse beeper"],music:["stationary music","mobile music","ice cream truck"],voice:["talking","shouting","crowd","amplified speech"],dog:["dog barking"]},V=[{id:"maya",name:"Maya",role:"CS Undergrad · Tandon",borough:"Elmhurst, Queens",color:"#ffd32a",schedule:[{h:0,loc:"Home — Elmhurst",sounds:[],db:35,noData:!0,desc:"No sensor data for Queens overnight. The neighborhood is quiet but unmeasured."},{h:1,loc:"Home — Elmhurst",sounds:[],db:35,noData:!0,desc:"Still asleep. No Queens sensor coverage at this hour."},{h:2,loc:"Home — Elmhurst",sounds:[],db:35,noData:!0,desc:"Deep night. Data blind spot — one sensor in all of Queens."},{h:3,loc:"Home — Elmhurst",sounds:[],db:35,noData:!0,desc:"Nothing recorded here at 3am. Just the city breathing."},{h:4,loc:"Home — Elmhurst",sounds:[],db:35,noData:!0,desc:"Pre-dawn. Sensor offline for the night."},{h:5,loc:"Home — Elmhurst",sounds:[],db:35,noData:!0,desc:"Alarm goes off soon. Still no coverage."},{h:6,loc:"Home — Elmhurst",sounds:["engine"],db:52,desc:"Queens Blvd traffic picks up. Getting dressed."},{h:7,loc:"Elmhurst Ave F Station",sounds:["engine","alert"],db:68,desc:"Walking to the subway. Buses, cars, crosswalk beeps."},{h:8,loc:"F Train → Jay St",sounds:["engine","voice"],db:80,desc:"Packed F train. Metal on rails, people, phone calls."},{h:9,loc:"Tandon — Rogers Hall",sounds:["voice"],db:62,desc:"First lecture of the day. Settling in, professor getting started."},{h:10,loc:"Tandon — CS Lab",sounds:["voice","machinery"],db:58,desc:"Lab session. Fans humming, someone drilling outside."},{h:11,loc:"Tandon — Atrium",sounds:["voice","engine"],db:64,desc:"Between classes. Busy atrium, traffic audible from the street."},{h:12,loc:"MetroTech Plaza",sounds:["voice","engine"],db:68,desc:"Lunch outside. Food trucks, people, delivery vans."},{h:13,loc:"Tandon — Lecture Hall",sounds:["voice"],db:56,desc:"Afternoon class. Quiet except for one person eating loudly."},{h:14,loc:"Tandon — Study Room",sounds:["voice"],db:52,desc:"Group project. Collaborative but contained."},{h:15,loc:"Tandon — Courtyard",sounds:["engine","alert","voice"],db:68,desc:"Outside break. Trucks reversing at loading dock nearby."},{h:16,loc:"Tandon — Club Room",sounds:["voice","music"],db:60,desc:"Club meeting. Someone brought a speaker."},{h:17,loc:"Jay St Station",sounds:["engine","voice"],db:74,desc:"Heading home. Rush hour platform, crowded."},{h:18,loc:"F Train → Elmhurst",sounds:["engine","voice"],db:78,desc:"Packed train. Standing room only, loud."},{h:19,loc:"Home — Elmhurst",sounds:["voice","engine"],db:65,desc:"Back in Queens. Neighborhood energy, family nearby."},{h:20,loc:"Home — Elmhurst",sounds:["voice","music"],db:58,desc:"Dinner, studying. Roommates on TV in the other room."},{h:21,loc:"Queens Blvd",sounds:["engine","alert"],db:65,desc:"Late food run. Queens Blvd never really quiets down."},{h:22,loc:"Home — Elmhurst",sounds:["voice","music"],db:56,desc:"Back home. Neighbors above, music faint."},{h:23,loc:"Home — Elmhurst",sounds:["engine"],db:48,desc:"Trying to sleep. Boulevard hum in the background."}]},{id:"marcus",name:"Prof. Marcus",role:"Urban Studies Faculty · WSP",borough:"Upper East Side",color:"#74b9ff",schedule:[{h:0,loc:"Home — UES",sounds:["engine"],db:44,desc:"Late night on 2nd Ave. Cab, distant bus."},{h:1,loc:"Home — UES",sounds:["engine"],db:42,desc:"Quiet now. A truck."},{h:2,loc:"Home — UES",sounds:[],db:38,desc:"Still. Rare for Manhattan."},{h:3,loc:"Home — UES",sounds:[],db:36,desc:"Deepest quiet of the night."},{h:4,loc:"Home — UES",sounds:["engine"],db:42,desc:"Delivery trucks starting their rounds."},{h:5,loc:"Home — UES",sounds:["engine","voice"],db:50,desc:"Building staff, street cleaner going by."},{h:6,loc:"Home — UES",sounds:["engine","voice"],db:55,desc:"Morning routine. Coffee, news on low."},{h:7,loc:"6 Train — Downtown",sounds:["engine","voice","alert"],db:82,desc:"Rush hour 6 train. Packed, screeching at the curve."},{h:8,loc:"Washington Square Park",sounds:["voice","dog","music"],db:70,desc:"Walking through WSP to the office. Buskers tuning up, dogs everywhere."},{h:9,loc:"Silver Center — NYU",sounds:["voice"],db:58,desc:"Office hours. Students stopping by, phone on silent."},{h:10,loc:"Silver Center — NYU",sounds:["voice"],db:62,desc:"Seminar prep. Colleagues in the hall."},{h:11,loc:"Lecture Hall — NYU",sounds:["voice"],db:64,desc:"Teaching. Big room, forty students, good discussion today."},{h:12,loc:"West Village — Lunch",sounds:["voice","music","alert"],db:70,desc:"Lunch with a colleague. Outdoor seating, ambulance passes."},{h:13,loc:"Silver Center — NYU",sounds:["voice"],db:58,desc:"More office hours. Steady stream of students."},{h:14,loc:"Faculty Meeting — NYU",sounds:["voice"],db:55,desc:"Conference room. Lot of talking, not much resolved."},{h:15,loc:"Washington Square Park",sounds:["voice","dog","music"],db:68,desc:"Grading on a bench. Dogs, a guitarist, kids on the fountain."},{h:16,loc:"Silver Center — NYU",sounds:["voice","machinery"],db:60,desc:"Back at desk. Construction audible from the window on 3rd."},{h:17,loc:"6 Train — Uptown",sounds:["engine","voice","alert"],db:80,desc:"Heading home. Still packed going north."},{h:18,loc:"Home — UES",sounds:["voice","engine"],db:62,desc:"Back home. Neighbor in the hall, street noise."},{h:19,loc:"Restaurant — UES",sounds:["voice","music"],db:68,desc:"Dinner out. Neighborhood place, good noise level."},{h:20,loc:"Home — UES",sounds:["voice"],db:55,desc:"Reading. TV on low in another room."},{h:21,loc:"Home — UES",sounds:["engine"],db:50,desc:"Winding down. 2nd Ave outside."},{h:22,loc:"Home — UES",sounds:["engine"],db:46,desc:"Late night. Quiet now."},{h:23,loc:"Home — UES",sounds:["engine"],db:42,desc:"Almost asleep."}]},{id:"keisha",name:"Keisha",role:"Dog Walker · WSP",borough:"West Village",color:"#55efc4",schedule:[{h:0,loc:"Home — West Village",sounds:["music","engine"],db:55,desc:"Bar on Bleecker still going. Music through the wall."},{h:1,loc:"Home — West Village",sounds:["music"],db:52,desc:"Last call crowd outside. Music fading."},{h:2,loc:"Home — West Village",sounds:["engine"],db:47,desc:"Block quieting down. A cab."},{h:3,loc:"Home — West Village",sounds:["engine"],db:44,desc:"Almost silent. One car."},{h:4,loc:"Home — West Village",sounds:[],db:40,desc:"Quiet. Even the Village sleeps eventually."},{h:5,loc:"Home — West Village",sounds:["engine"],db:44,desc:"First delivery trucks. Getting up soon."},{h:6,loc:"Washington Square Park",sounds:["dog","voice"],db:58,desc:"First walk of the day. Off-leash hour, three dogs, dewy grass."},{h:7,loc:"Washington Square Park",sounds:["dog","music","voice"],db:65,desc:"Park filling up. Busker on guitar, dogs everywhere, runners."},{h:8,loc:"West Village Streets",sounds:["dog","engine"],db:62,desc:"Dropping the morning clients off. Good dogs today."},{h:9,loc:"Silver Center — NYU",sounds:["voice"],db:60,desc:"Morning class. Running a little late from the walks."},{h:10,loc:"Silver Center — NYU",sounds:["voice"],db:57,desc:"Still in class. Trying to focus."},{h:11,loc:"Washington Square Park",sounds:["dog","voice","music"],db:68,desc:"Midday walks. Four dogs, two of them know each other."},{h:12,loc:"Washington Square Park",sounds:["dog","music","voice","alert"],db:73,desc:"Peak park hour. Every dog in the Village is here. A siren."},{h:13,loc:"Bleecker St — Lunch",sounds:["voice","music"],db:66,desc:"Quick lunch. Sandwich place, music on."},{h:14,loc:"Washington Square Park",sounds:["dog","voice"],db:63,desc:"Afternoon rounds. Calmer today, overcast."},{h:15,loc:"Washington Square Park",sounds:["dog","music","voice"],db:72,desc:"After school rush. Kids, skateboards, dogs, a trumpet."},{h:16,loc:"Washington Square Park",sounds:["dog","music","alert"],db:70,desc:"Ice cream truck rolls in. Dogs go absolutely feral."},{h:17,loc:"West Village Streets",sounds:["dog","voice","engine"],db:65,desc:"Evening walks. Last round of clients."},{h:18,loc:"Home — West Village",sounds:["voice","music"],db:60,desc:"Home. Cooking, music on."},{h:19,loc:"Home — West Village",sounds:["voice"],db:56,desc:"Studying for class tomorrow."},{h:20,loc:"Home — West Village",sounds:["dog","voice"],db:58,desc:"Neighbor's dog barking down the hall."},{h:21,loc:"Home — West Village",sounds:["music"],db:55,desc:"Playlist on. Reading."},{h:22,loc:"Home — West Village",sounds:["music","engine"],db:58,desc:"Bar getting loud again. It's Wednesday but whatever."},{h:23,loc:"Home — West Village",sounds:["music"],db:54,desc:"Drifting off. Still audible from downstairs."}]},{id:"carlos",name:"Carlos",role:"Facilities Crew · Tandon",borough:"Sunset Park, Bk",color:"#ff9f43",schedule:[{h:0,loc:"Home — Sunset Park",sounds:["engine"],db:48,desc:"Traffic on 4th Ave. Quiet block otherwise."},{h:1,loc:"Home — Sunset Park",sounds:["engine"],db:46,desc:"Asleep. Distant highway."},{h:2,loc:"Home — Sunset Park",sounds:[],db:42,desc:"Silent."},{h:3,loc:"Home — Sunset Park",sounds:[],db:40,desc:"Deep sleep."},{h:4,loc:"Home — Sunset Park",sounds:["engine"],db:44,desc:"Early trucks on 3rd Ave."},{h:5,loc:"Home — Sunset Park",sounds:["engine","voice"],db:54,desc:"Up early. Street outside waking up, neighbor's door."},{h:6,loc:"D Train → Atlantic Ave",sounds:["engine","voice"],db:76,desc:"Subway in. Not too crowded yet."},{h:7,loc:"Tandon — Site Prep",sounds:["machinery","engine"],db:72,desc:"On site early. Setting up equipment, truck unloading."},{h:8,loc:"Tandon — Construction",sounds:["machinery","impact"],db:85,desc:"Work starts. Compacting, breaking ground."},{h:9,loc:"Tandon — Construction",sounds:["machinery","impact"],db:88,desc:"Jackhammer on the utility trench. Loud day."},{h:10,loc:"Tandon — Construction",sounds:["saw","machinery"],db:86,desc:"Cutting steel framing. Saw whine, sparks."},{h:11,loc:"Tandon — Construction",sounds:["machinery","saw","impact"],db:84,desc:"All at once for a bit. Coordinating with another crew."},{h:12,loc:"MetroTech — Lunch",sounds:["voice","engine"],db:65,desc:"Lunch on the plaza. Feet up, sandwich, trucks going by."},{h:13,loc:"Tandon — Construction",sounds:["machinery","saw"],db:83,desc:"Back at it. Afternoon cutting."},{h:14,loc:"Tandon — Construction",sounds:["machinery","alert","impact"],db:80,desc:"Loading dock activity. Reverse beepers, big delivery."},{h:15,loc:"Tandon — Construction",sounds:["saw","machinery"],db:83,desc:"Pipe cuts. Long afternoon."},{h:16,loc:"Tandon — Wrap-up",sounds:["machinery","engine"],db:74,desc:"Cleaning up. Equipment powered down, truck reversing out."},{h:17,loc:"D Train → Sunset Park",sounds:["engine","voice"],db:74,desc:"Heading home. Rush hour but he gets a seat."},{h:18,loc:"Home — Sunset Park",sounds:["voice","engine"],db:60,desc:"Home. Kids outside, dinner smells."},{h:19,loc:"Home — Sunset Park",sounds:["voice","music"],db:58,desc:"Dinner. TV on, family around."},{h:20,loc:"Home — Sunset Park",sounds:["voice"],db:54,desc:"Winding down. Quiet evening."},{h:21,loc:"Home — Sunset Park",sounds:["engine"],db:48,desc:"Almost out. 4th Ave traffic."},{h:22,loc:"Home — Sunset Park",sounds:["engine"],db:46,desc:"Asleep."},{h:23,loc:"Home — Sunset Park",sounds:["engine"],db:44,desc:"Late night. Trucks on the avenue."}]},{id:"amara",name:"Amara",role:"Music MFA · Busker · WSP",borough:"Bed-Stuy, Bk",color:"#a29bfe",schedule:[{h:0,loc:"Home — Bed-Stuy",sounds:["music","voice"],db:65,desc:"Just got in from a gig. Neighbors still up, music through the floor."},{h:1,loc:"Home — Bed-Stuy",sounds:["music","engine"],db:58,desc:"Winding down. Music on low."},{h:2,loc:"Home — Bed-Stuy",sounds:["engine"],db:46,desc:"Asleep. L train rumbles past."},{h:3,loc:"Home — Bed-Stuy",sounds:["engine"],db:44,desc:"Quiet block. Occasional car."},{h:4,loc:"Home — Bed-Stuy",sounds:[],db:40,desc:"Still."},{h:5,loc:"Home — Bed-Stuy",sounds:["engine"],db:44,desc:"First bus. Stirring."},{h:6,loc:"Home — Bed-Stuy",sounds:["voice","engine"],db:52,desc:"Slow morning. Neighbor in the hall."},{h:7,loc:"Home — Bed-Stuy",sounds:["voice","engine"],db:55,desc:"Getting ready. Music on while making coffee."},{h:8,loc:"A Train → West 4th",sounds:["engine","voice","music"],db:78,desc:"Subway to WSP. Someone's playing in the car."},{h:9,loc:"NYU Music Building",sounds:["music","voice"],db:65,desc:"Practice room. Working on a new piece."},{h:10,loc:"NYU — Composition Class",sounds:["music","voice"],db:62,desc:"Class. Everyone playing something different in their head."},{h:11,loc:"NYU — Ensemble Rehearsal",sounds:["music","voice"],db:68,desc:"Rehearsal. Full group today, actually sounding good."},{h:12,loc:"West Village — Lunch",sounds:["voice","music","alert"],db:70,desc:"Lunch near campus. Street noise, a car alarm briefly."},{h:13,loc:"Washington Square Park",sounds:["busking","voice"],db:66,desc:"Setting up the busking spot. Good crowd already."},{h:14,loc:"Washington Square Park",sounds:["busking","voice","alert"],db:73,desc:"Playing. Crowd gathering. Someone tries to talk over her."},{h:15,loc:"Washington Square Park",sounds:["busking","voice","dog"],db:76,desc:"Peak hour. Biggest crowd of the day. Dogs keep stopping to listen."},{h:16,loc:"Washington Square Park",sounds:["busking","voice","alert"],db:74,desc:"Still going. Kids from school, tourists, regulars."},{h:17,loc:"Washington Square Park",sounds:["busking","voice","engine","alert"],db:77,desc:"Rush hour around the park. Busiest sonic moment of the day."},{h:18,loc:"A Train → Bed-Stuy",sounds:["engine","voice"],db:78,desc:"Heading home, gear in tow."},{h:19,loc:"Home — Bed-Stuy",sounds:["voice","music"],db:63,desc:"Home. Neighbor practicing bass. She doesn't mind."},{h:20,loc:"Home — Bed-Stuy",sounds:["music","voice"],db:70,desc:"Jam session with the neighbor. Kitchen turned studio."},{h:21,loc:"Home — Bed-Stuy",sounds:["music","voice"],db:66,desc:"Still going. Lost track of time."},{h:22,loc:"Home — Bed-Stuy",sounds:["music"],db:60,desc:"Winding down. Playing quietly now."},{h:23,loc:"Home — Bed-Stuy",sounds:["music","engine"],db:55,desc:"Late. Headphones on. L train."}]},{id:"lin",name:"Dr. Lin",role:"CUSP Researcher · Tandon",borough:"Carroll Gardens, Bk",color:"#26de81",schedule:[{h:0,loc:"Home — Carroll Gardens",sounds:["engine"],db:46,desc:"Smith St quiet. Occasional car."},{h:1,loc:"Home — Carroll Gardens",sounds:[],db:40,desc:"Asleep."},{h:2,loc:"Home — Carroll Gardens",sounds:[],db:38,desc:"Still."},{h:3,loc:"Home — Carroll Gardens",sounds:[],db:36,desc:"Quiet neighborhood at 3am."},{h:4,loc:"Home — Carroll Gardens",sounds:["engine"],db:42,desc:"Early delivery on Court St."},{h:5,loc:"Home — Carroll Gardens",sounds:["engine","voice"],db:50,desc:"Up early. Getting ready."},{h:6,loc:"Home — Carroll Gardens",sounds:["voice","engine"],db:54,desc:"Coffee, checking data from overnight jobs."},{h:7,loc:"F Train → Jay St",sounds:["engine","voice"],db:76,desc:"Subway in. Reading on the train."},{h:8,loc:"Tandon — CUSP Lab",sounds:["voice"],db:58,desc:"In the lab early. Good time to think."},{h:9,loc:"Tandon — CUSP Lab",sounds:["voice"],db:60,desc:"Team standup. Everyone updating each other on their models."},{h:10,loc:"Tandon — CUSP Lab",sounds:["voice","engine"],db:55,desc:"Data pipeline running. Machine hum, Carlos's crew audible outside."},{h:11,loc:"Tandon — CUSP Lab",sounds:["voice","machinery"],db:60,desc:"Construction from across the building. Hard to ignore."},{h:12,loc:"MetroTech — Lunch",sounds:["voice","engine"],db:66,desc:"Lunch outside. Sitting near the fountain."},{h:13,loc:"Tandon — Seminar",sounds:["voice"],db:58,desc:"Guest lecture. Good one today."},{h:14,loc:"Tandon — CUSP Lab",sounds:["voice","machinery"],db:57,desc:"Writing. Construction still going but tuning it out."},{h:15,loc:"Tandon — CUSP Lab",sounds:["voice"],db:52,desc:"Quiet stretch. Deep work."},{h:16,loc:"MetroTech — Walk",sounds:["engine","voice","alert"],db:65,desc:"Short walk outside. Clearing the head."},{h:17,loc:"F Train → Carroll Gardens",sounds:["engine","voice"],db:74,desc:"Heading home. Easier commute going this direction."},{h:18,loc:"Home — Carroll Gardens",sounds:["voice","music"],db:63,desc:"Back home. Neighbor's cooking, music."},{h:19,loc:"Smith St — Dinner",sounds:["voice","music"],db:70,desc:"Dinner out. Lively block, restaurant full."},{h:20,loc:"Home — Carroll Gardens",sounds:["voice"],db:58,desc:"Home, reading."},{h:21,loc:"Home — Carroll Gardens",sounds:["engine"],db:50,desc:"Quiet evening."},{h:22,loc:"Home — Carroll Gardens",sounds:["engine"],db:47,desc:"Late. Winding down."},{h:23,loc:"Home — Carroll Gardens",sounds:["engine"],db:44,desc:"Asleep soon."}]},{id:"jordan",name:"Jordan",role:"Night Security · Tandon",borough:"Bushwick, Bk",color:"#fd79a8",schedule:[{h:0,loc:"Tandon — Security Desk",sounds:["engine"],db:50,desc:"Midnight. Lobby quiet. Hum of the building systems."},{h:1,loc:"Tandon — Rounds",sounds:["engine"],db:46,desc:"Walking the floors. Empty hallways, lights on timers."},{h:2,loc:"Tandon — Security Desk",sounds:["engine","alert"],db:48,desc:"Back at the desk. A motion sensor trips, nothing there."},{h:3,loc:"Tandon — Rounds",sounds:["engine"],db:44,desc:"Quietest hour. Just the HVAC."},{h:4,loc:"Tandon — Loading Dock",sounds:["machinery","engine","alert"],db:52,desc:"Early delivery crew shows up. Reverse beepers, truck."},{h:5,loc:"Tandon — Security Desk",sounds:["engine"],db:50,desc:"Last hour of shift. Counting down."},{h:6,loc:"L/M Train → Bushwick",sounds:["engine","voice"],db:72,desc:"Commute home. Subway filling up already."},{h:7,loc:"Home — Bushwick",sounds:["engine","music"],db:60,desc:"Arrived. Block waking up. Someone's playing music."},{h:8,loc:"Home — Bushwick",sounds:["voice","engine"],db:58,desc:"Trying to sleep. Neighbors leaving for work."},{h:9,loc:"Home — Bushwick",sounds:["engine"],db:50,desc:"Asleep. Street noise through the window."},{h:10,loc:"Home — Bushwick",sounds:["engine"],db:48,desc:"Still out."},{h:11,loc:"Home — Bushwick",sounds:["engine","machinery"],db:52,desc:"Something woke up. Construction nearby."},{h:12,loc:"Home — Bushwick",sounds:["voice","engine"],db:58,desc:"Up for a bit. Coffee, check the phone."},{h:13,loc:"Home — Bushwick",sounds:["voice","music"],db:58,desc:"Eating. TV on."},{h:14,loc:"Bushwick Streets",sounds:["engine","voice","music"],db:65,desc:"Running errands. Neighborhood active in the afternoon."},{h:15,loc:"Home — Bushwick",sounds:["voice","music"],db:60,desc:"Back home. Getting ready for the night eventually."},{h:16,loc:"Home — Bushwick",sounds:["voice"],db:55,desc:"Quiet time before the shift. Reading."},{h:17,loc:"Home — Bushwick",sounds:["voice","music"],db:58,desc:"Dinner. Music on."},{h:18,loc:"L/M Train → Tandon",sounds:["engine","voice","alert"],db:74,desc:"Commute in. Evening subway."},{h:19,loc:"Tandon — Pre-shift",sounds:["voice","engine"],db:62,desc:"Arrived early. Handoff from the day person."},{h:20,loc:"Tandon — Security Desk",sounds:["engine","alert"],db:62,desc:"Shift started. Building winding down."},{h:21,loc:"Tandon — Rounds",sounds:["alert","engine"],db:58,desc:"Evening rounds. Few people still in labs."},{h:22,loc:"Tandon — Security Desk",sounds:["engine"],db:55,desc:"Quieting down. Last researchers leaving."},{h:23,loc:"Tandon — Rounds",sounds:["engine","alert"],db:52,desc:"Almost empty. One more sweep."}]},{id:"rosa",name:"Rosa",role:"Food Cart Vendor · WSP",borough:"Lower East Side",color:"#ff6b6b",schedule:[{h:0,loc:"Home — LES",sounds:["music","engine"],db:60,desc:"LES late night. Bar crowd outside, music leaking out."},{h:1,loc:"Home — LES",sounds:["music","voice"],db:58,desc:"Still going out there. She's used to it."},{h:2,loc:"Home — LES",sounds:["engine"],db:52,desc:"Quieter now. Ubers idling."},{h:3,loc:"Home — LES",sounds:["engine"],db:48,desc:"Almost silent."},{h:4,loc:"Home — LES",sounds:["engine"],db:46,desc:"Alarm soon. Delivery trucks starting."},{h:5,loc:"Home — LES",sounds:["engine","voice"],db:55,desc:"Up early. Prepping the cart, neighbor also up."},{h:6,loc:"Walking to WSP",sounds:["engine","alert"],db:65,desc:"Rolling the cart over. Few trucks still making deliveries."},{h:7,loc:"Washington Square — Setup",sounds:["voice","engine"],db:67,desc:"Setting up. A couple regulars already waiting."},{h:8,loc:"Washington Square — Cart",sounds:["voice","alert","engine"],db:72,desc:"Morning coffee rush. Students, faculty, dog walkers."},{h:9,loc:"Washington Square — Cart",sounds:["voice","engine","alert"],db:70,desc:"Steady stream. Knows most of the morning people by now."},{h:10,loc:"Washington Square — Cart",sounds:["voice","music"],db:67,desc:"Slowing a little. A busker started up nearby."},{h:11,loc:"Washington Square — Cart",sounds:["voice","engine"],db:65,desc:"Pre-lunch quiet. Restocking."},{h:12,loc:"Washington Square — Cart",sounds:["voice","alert","music"],db:75,desc:"Lunch rush. Biggest crowd of the day. Everyone moving fast."},{h:13,loc:"Washington Square — Cart",sounds:["voice","music","dog"],db:70,desc:"Post-lunch. Lingerers, dogs, a group of tourists."},{h:14,loc:"Washington Square — Cart",sounds:["voice","music","dog"],db:64,desc:"Slow afternoon. Good for catching up."},{h:15,loc:"Washington Square — Cart",sounds:["voice","dog","music"],db:67,desc:"After-school crowd arrives. Energy picks up."},{h:16,loc:"Washington Square — Cart",sounds:["dog","music","alert"],db:70,desc:"Ice cream truck rolls past. Her regulars stay loyal."},{h:17,loc:"Washington Square — Cart",sounds:["voice","engine","alert"],db:73,desc:"Evening rush through the park. Commuters cutting across."},{h:18,loc:"Walking home — LES",sounds:["engine","voice"],db:65,desc:"Packing up, heading back. Tired legs."},{h:19,loc:"Home — LES",sounds:["voice","music"],db:60,desc:"Home. Family, food, phone calls."},{h:20,loc:"Home — LES",sounds:["voice","music"],db:62,desc:"LES evening. Music from the restaurant downstairs."},{h:21,loc:"Home — LES",sounds:["music","engine"],db:64,desc:"Neighborhood picking up. A few bars getting busy."},{h:22,loc:"Home — LES",sounds:["music","voice"],db:62,desc:"It's a thing on this block. She's asleep through it mostly."},{h:23,loc:"Home — LES",sounds:["music","engine"],db:58,desc:"Late. The city keeps going either way."}]}],H=220,y=100,O=238;function v(s){return s/24*2*Math.PI-Math.PI/2}function x(s,i){return{x:Math.cos(s)*i,y:Math.sin(s)*i}}function F(s,i,t){const d=v(s),a=v(s+1)-.01,n=Math.cos(d)*t,l=Math.sin(d)*t,e=Math.cos(a)*t,o=Math.sin(a)*t,c=Math.cos(a)*i,r=Math.sin(a)*i,h=Math.cos(d)*i,b=Math.sin(d)*i;return`M ${n} ${l} A ${t} ${t} 0 0 1 ${e} ${o} L ${c} ${r} A ${i} ${i} 0 0 0 ${h} ${b} Z`}function Q(s){if(!s||s.length===0)return"#1e2240";const i=s[0];return A[i]||"#a29bfe"}function Y(s,i,t){const d=document.getElementById("hour-tooltip"),a=t?t.schedule[i]:null;if(!a)return;const n=i===0?"12":i>12?i-12:i,l=i<12?"AM":"PM";document.getElementById("tt-title").textContent=`${n}:00 ${l} — ${a.loc}`;const e=a.sounds.map(o=>`<span class="sound-chip" style="color:${A[o]||"#666"}">${o}</span>`).join("");document.getElementById("tt-sounds").innerHTML=e||'<span style="color:var(--muted);font-size:0.65rem">No sounds recorded</span>',document.getElementById("tt-desc").textContent=a.desc,d.classList.add("visible"),D(s)}function D(s){const i=document.getElementById("hour-tooltip"),t=document.getElementById("clock-svg").getBoundingClientRect(),d=s.clientX-t.left-110,a=s.clientY-t.top-110;i.style.left=Math.max(10,Math.min(d,window.innerWidth-220))+"px",i.style.top=Math.max(10,Math.min(a,window.innerHeight-200))+"px"}function z(){document.getElementById("hour-tooltip").classList.remove("visible")}function j(s,i){const t=document.getElementById("clock-svg");t.innerHTML="";const d=document.createElementNS("http://www.w3.org/2000/svg","defs");for(const[e,o]of Object.entries(A)){const c=document.createElementNS("http://www.w3.org/2000/svg","filter");c.setAttribute("id",`glow-${e}`);const r=document.createElementNS("http://www.w3.org/2000/svg","feDropShadow");r.setAttribute("dx","0"),r.setAttribute("dy","0"),r.setAttribute("stdDeviation","6"),r.setAttribute("flood-color",o),r.setAttribute("flood-opacity","0.8"),c.appendChild(r),d.appendChild(c)}t.appendChild(d);for(let e=y;e<=H;e+=(H-y)/4){const o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("r",e),o.setAttribute("cx",0),o.setAttribute("cy",0),o.setAttribute("fill","none"),o.setAttribute("stroke","#1e2240"),o.setAttribute("stroke-width","0.5"),t.appendChild(o)}const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("x",0),a.setAttribute("y",-y+25),a.setAttribute("text-anchor","middle"),a.setAttribute("class","hour-label"),a.setAttribute("font-size","7"),a.setAttribute("fill","#3a3f6a"),a.textContent="AM",t.appendChild(a);const n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("x",0),n.setAttribute("y",y-15),n.setAttribute("text-anchor","middle"),n.setAttribute("class","hour-label"),n.setAttribute("font-size","7"),n.setAttribute("fill","#3a3f6a"),n.textContent="PM",t.appendChild(n);for(let e=0;e<24;e++){let o=[],c=0;if(s){const g=s.schedule[e];o=g.sounds,c=g.db}const r=Q(o),h=e===i,b=c>0?(c-35)/65:0,L=y+b*(H-y)*.95,f=document.createElementNS("http://www.w3.org/2000/svg","path");f.setAttribute("d",F(e,y,Math.max(y+4,L))),f.setAttribute("fill",o.length>0?r:"#13162a"),f.setAttribute("opacity",h?"1":o.length>0?"0.65":"0.3"),h&&o.length>0&&f.setAttribute("filter",`url(#glow-${o[0]})`),f.setAttribute("stroke","#070810"),f.setAttribute("stroke-width","1"),f.style.cursor="pointer",f.style.transition="opacity 0.2s, transform 0.2s",f.addEventListener("mouseenter",g=>Y(g,e,s)),f.addEventListener("mousemove",g=>D(g)),f.addEventListener("mouseleave",()=>z()),f.addEventListener("click",()=>{var g;return(g=window.updateHourGlobal)==null?void 0:g.call(window,e)}),t.appendChild(f),o.length>1&&o.slice(1).forEach((g,P)=>{const E=v(e)+(v(e+1)-v(e))*.5,q=y+12+P*10,S=document.createElementNS("http://www.w3.org/2000/svg","circle");S.setAttribute("cx",Math.cos(E)*q),S.setAttribute("cy",Math.sin(E)*q),S.setAttribute("r","3"),S.setAttribute("fill",A[g]||"#666"),S.setAttribute("opacity","0.8"),S.style.pointerEvents="none",t.appendChild(S)});const U=v(e)+(v(e+1)-v(e))/2,W=x(U,O);if(e%3===0){const g=document.createElementNS("http://www.w3.org/2000/svg","text");g.setAttribute("x",W.x),g.setAttribute("y",W.y),g.setAttribute("text-anchor","middle"),g.setAttribute("dominant-baseline","middle"),g.setAttribute("class","hour-label"),g.setAttribute("font-size","9");const P=e===0?"12":e>12?String(e-12):String(e),E=e<12?"am":"pm";g.textContent=P+E,t.appendChild(g)}}const l=document.createElementNS("http://www.w3.org/2000/svg","circle");if(l.setAttribute("r",y-2),l.setAttribute("fill","#070810"),t.appendChild(l),s){const e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("x",0),e.setAttribute("y",-14),e.setAttribute("text-anchor","middle"),e.setAttribute("font-family","Syne, sans-serif"),e.setAttribute("font-weight","700"),e.setAttribute("font-size","18"),e.setAttribute("fill",s.color),e.textContent=s.name,t.appendChild(e);const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("x",0),o.setAttribute("y",6),o.setAttribute("text-anchor","middle"),o.setAttribute("font-family","DM Mono, monospace"),o.setAttribute("font-size","8"),o.setAttribute("fill","#5a5f8a"),o.textContent=s.role,t.appendChild(o);const c=document.createElementNS("http://www.w3.org/2000/svg","text");c.setAttribute("x",0),c.setAttribute("y",20),c.setAttribute("text-anchor","middle"),c.setAttribute("font-family","DM Mono, monospace"),c.setAttribute("font-size","7"),c.setAttribute("fill","#3a3f6a"),c.textContent=s.borough.toUpperCase(),t.appendChild(c)}else{const e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("text-anchor","middle"),e.setAttribute("dominant-baseline","middle"),e.setAttribute("font-family","DM Mono, monospace"),e.setAttribute("font-size","8"),e.setAttribute("fill","#3a3f6a"),e.textContent="SELECT A PERSONA",t.appendChild(e)}if(s){const e=v(i)+(v(i+1)-v(i))/2,o=x(e,y-6),c=x(e,H+14),r=document.createElementNS("http://www.w3.org/2000/svg","line");r.setAttribute("x1",o.x),r.setAttribute("y1",o.y),r.setAttribute("x2",c.x),r.setAttribute("y2",c.y),r.setAttribute("stroke","white"),r.setAttribute("stroke-width","1.5"),r.setAttribute("opacity","0.4"),t.appendChild(r)}}function J(){const s=document.getElementById("legend");s.innerHTML=Object.entries(A).map(([i,t])=>`<div class="legend-item">
      <div class="legend-dot" style="background:${t};box-shadow:0 0 4px ${t}"></div>
      <span>${i}</span>
    </div>`).join("")}function K(s){const i=document.getElementById("persona-list");i.innerHTML=V.map(t=>`<div class="persona-card" id="persona-${t.id}" style="--accent:${t.color}">
      <div class="persona-name" style="color:${t.color}">${t.name}</div>
      <div class="persona-meta">${t.role}</div>
      <span class="persona-borough" style="color:${t.color}">${t.borough}</span>
    </div>`).join(""),document.querySelectorAll(".persona-card").forEach(t=>{t.addEventListener("click",d=>{const a=t.id.replace("persona-","");s(a)})})}function _(s,i,t){const d=document.getElementById("sounds-list");if(t){d.innerHTML='<div style="color:var(--muted);font-size:0.68rem;margin-top:8px;line-height:1.6">Data unavailable for this location and hour.<br/>Displaying flatline tone.</div>';return}if(!s||s.length===0){d.innerHTML='<div style="color:var(--muted);font-size:0.68rem;margin-top:8px">No sounds detected this hour.</div>';return}d.innerHTML=s.map(n=>`
    <div class="sound-row" data-sound="${n}" onclick="window.playSoundGlobal?.('${n}', ${i})">
      <div class="sound-dot" style="background:${A[n]};color:${A[n]}"></div>
      <div class="sound-name">${n}</div>
      <div class="sound-play-btn">PLAY</div>
    </div>
  `).join("");const a=s.flatMap(n=>(I[n]||[]).slice(0,2));if(a.length>0){const n=document.createElement("div");n.style.cssText="margin-top:10px;padding-top:10px;border-top:1px solid var(--border)",n.innerHTML='<div class="panel-label" style="margin-bottom:6px;font-size:0.58rem">FINE-GRAINED TAGS</div>'+a.map(l=>`<div style="font-size:0.65rem;color:var(--muted);padding:2px 0">· ${l}</div>`).join(""),d.appendChild(n)}}function X(s){const i=document.getElementById("db-value"),t=document.getElementById("meter-fill"),d=()=>{const a=parseFloat(i.textContent);if(isNaN(a)){i.textContent=s,t.style.width=Math.min(100,(s-35)/65*100)+"%";return}const n=a+(s-a)*.1;if(Math.abs(n-s)<.5){i.textContent=s,t.style.width=Math.min(100,(s-35)/65*100)+"%";return}i.textContent=Math.round(n),t.style.width=Math.min(100,(n-35)/65*100)+"%",requestAnimationFrame(d)};d()}let k=null,T=null,p=[];function R(){if(!k){const s=window.AudioContext||window.webkitAudioContext;k=new s,T=k.createAnalyser(),T.fftSize=2048,T.connect(k.destination)}return k.state==="suspended"&&k.resume(),k}function Z(){p.forEach(s=>{try{s.stop(0)}catch{}}),p=[]}function M(s,i){const t=R();if(!t)return;Z();const d=t.createGain();if(d.connect(T),s==="flatline"){const e=t.createOscillator(),o=t.createGain();e.frequency.value=100,o.gain.value=.018,e.connect(o),o.connect(t.destination),e.start(),e.stop(t.currentTime+4),p.push(e);return}const a=Math.max(.05,Math.min(.3,(i-40)/60));d.gain.setValueAtTime(0,t.currentTime),d.gain.linearRampToValueAtTime(a,t.currentTime+.3),d.gain.linearRampToValueAtTime(a*.8,t.currentTime+3.5),d.gain.linearRampToValueAtTime(0,t.currentTime+4);const n=t.currentTime,l=n+4;switch(s){case"engine":{const e=t.createOscillator(),o=t.createOscillator();e.type="sawtooth",o.type="sawtooth",e.frequency.value=55,o.frequency.value=61;const c=t.createOscillator(),r=t.createGain();c.frequency.value=5,r.gain.value=10,c.connect(r),r.connect(e.frequency),e.connect(d),o.connect(d),c.start(),e.start(),o.start(),e.stop(l),o.stop(l),c.stop(l),p.push(e,o,c);break}case"machinery":{for(let e=0;e<6;e++){const o=t.createOscillator();o.type="square",o.frequency.value=120+e*8;const c=t.createGain();c.gain.setValueAtTime(.1,n+e*.15),c.gain.linearRampToValueAtTime(0,n+e*.15+.08),o.connect(c),c.connect(d),o.start(n+e*.15),o.stop(n+e*.15+.08),p.push(o,c)}break}case"impact":{for(let e=0;e<6;e++){const o=t.createOscillator();o.type="sine",o.frequency.setValueAtTime(200,n+e*.4),o.frequency.linearRampToValueAtTime(40,n+e*.4+.1);const c=t.createGain();c.gain.setValueAtTime(.2,n+e*.4),c.gain.linearRampToValueAtTime(0,n+e*.4+.1),o.connect(c),c.connect(d),o.start(n+e*.4),o.stop(n+e*.4+.1),p.push(o,c)}break}case"saw":{const e=t.createOscillator();e.type="sawtooth",e.frequency.setValueAtTime(1600,n),e.frequency.linearRampToValueAtTime(2400,n+2),e.frequency.linearRampToValueAtTime(800,n+4),e.connect(d),e.start(),e.stop(l),p.push(e);break}case"alert":{for(let e=0;e<8;e++){const o=t.createOscillator();o.type="sine",o.frequency.value=e%2===0?880:660;const c=t.createGain();c.gain.setValueAtTime(.1,n+e*.25),c.gain.linearRampToValueAtTime(0,n+e*.25+.2),o.connect(c),c.connect(d),o.start(n+e*.25),o.stop(n+e*.25+.2),p.push(o,c)}break}case"music":{[261.6,329.6,392,493.9].forEach((o,c)=>{const r=t.createOscillator();r.type="sine",r.frequency.value=o;const h=t.createGain();h.gain.setValueAtTime(0,n+c*.05),h.gain.linearRampToValueAtTime(.08,n+c*.05+.05),h.gain.linearRampToValueAtTime(0,n+3.5),r.connect(h),h.connect(d),r.start(n+c*.05),r.stop(l),p.push(r,h)});break}case"voice":{[200,450,800,1200].forEach((o,c)=>{const r=t.createOscillator();r.type="sine",r.frequency.value=o;const h=t.createOscillator();h.frequency.setValueAtTime(o,n),h.frequency.linearRampToValueAtTime(o*1.1,n+.5);const b=t.createGain();b.gain.value=.04,r.connect(b),h.connect(b),b.connect(d),r.start(),h.start(),r.stop(l),h.stop(l),p.push(r,h,b)});break}case"dog":{for(let e=0;e<3;e++){const o=t.createOscillator();o.type="sawtooth",o.frequency.setValueAtTime(380,n+e*.3),o.frequency.linearRampToValueAtTime(260,n+e*.3+.022);const c=t.createGain();c.gain.setValueAtTime(.1,n+e*.3),c.gain.linearRampToValueAtTime(0,n+e*.3+.022),o.connect(c),c.connect(d),o.start(n+e*.3),o.stop(n+e*.3+.022),p.push(o,c)}break}case"busking":{const e=[164,196,247,330,392];for(let o=0;o<3;o++)e.forEach((c,r)=>{const h=t.createOscillator();h.type="triangle",h.frequency.value=c;const b=t.createGain();b.gain.setValueAtTime(0,n+o*1+r*.05),b.gain.linearRampToValueAtTime(.12,n+o*1+r*.05+.05),b.gain.exponentialRampToValueAtTime(.01,n+o*1+r*.05+.6),h.connect(b),b.connect(d),h.start(n+o*1+r*.05),h.stop(n+o*1+r*.05+.6),p.push(h,b)});break}}}let w=null,u=null,B=null;function N(){w=document.getElementById("waveform-canvas"),w&&(u=w.getContext("2d"),w.width=w.offsetWidth*window.devicePixelRatio,w.height=w.offsetHeight*window.devicePixelRatio,u.scale(window.devicePixelRatio,window.devicePixelRatio))}function ee(s,i){if(!w||!u)return;B&&cancelAnimationFrame(B);const t=w.offsetWidth,d=w.offsetHeight,a=d/2,n=()=>{if(u.fillStyle="#12152a",u.fillRect(0,0,t,d),s&&s.context.state==="running"){const l=new Uint8Array(s.frequencyBinCount);s.getByteTimeDomainData(l),u.strokeStyle=i||"#a29bfe",u.lineWidth=1.5,u.lineCap="round",u.beginPath();for(let e=0;e<l.length;e++){const o=e/l.length*t,c=a-(l[e]/128-1)*(d/2);e===0?u.moveTo(o,c):u.lineTo(o,c)}u.stroke(),u.shadowColor=i||"#a29bfe",u.shadowBlur=8,u.shadowOffsetX=0,u.shadowOffsetY=0,u.stroke(),u.shadowColor="transparent"}else{const l=Date.now()/1e3,e=[3,7,13],o=e.map((c,r)=>l*c*(1+r*.1));u.strokeStyle=i||"#a29bfe",u.lineWidth=1.5,u.lineCap="round",u.beginPath();for(let c=0;c<t;c++){let r=0;e.forEach((b,L)=>{r+=Math.sin(c/t*b*Math.PI*2+o[L])*.3});const h=a+r*(d/3);c===0?u.moveTo(c,h):u.lineTo(c,h)}u.stroke(),u.shadowColor=i||"#a29bfe",u.shadowBlur=6,u.stroke(),u.shadowColor="transparent"}B=requestAnimationFrame(n)};n()}function G(s){const i=document.getElementById("timeline-strip");if(!s){i.innerHTML=Array(24).fill(0).map((t,d)=>'<div class="timeline-hour-cell" style="background:#13162a"></div>').join("");return}i.innerHTML=s.schedule.map((t,d)=>{const a=t.sounds[0]||"",n=t.sounds.length>0,l=n?`var(--c-${a})`:"#13162a";return`<div class="timeline-hour-cell" data-hour="${d}" style="background:${l};opacity:${n?.7:.3}"></div>`}).join(""),document.querySelectorAll(".timeline-hour-cell").forEach(t=>{t.addEventListener("click",d=>{var n;const a=parseInt(t.dataset.hour);(n=window.updateHourGlobal)==null||n.call(window,a)})})}function te(s){document.querySelectorAll(".timeline-hour-cell").forEach(t=>t.classList.remove("current"));const i=document.querySelector(`[data-hour="${s}"]`);i&&i.classList.add("current")}window.updateHourGlobal=C;window.playSoundGlobal=M;window.selectPersonaGlobal=$;function oe(){R(),m.analyserNode=T,J(),K($),G(),N(),window.addEventListener("resize",N),C(0)}function $(s){m.persona=V.find(i=>i.id===s),m.persona&&(document.querySelectorAll(".persona-card").forEach(i=>i.classList.remove("active")),document.getElementById(`persona-${s}`).classList.add("active"),document.getElementById("status-persona").textContent=`${m.persona.name} · ${m.persona.role} · ${m.persona.borough}`,m.hour=0,C(0),G(m.persona))}function C(s){if(!m.persona)return;m.hour=s;const i=m.persona.schedule[s],t=s===0?"12":s>12?String(s-12):String(s),d=s<12?"AM":"PM";document.getElementById("journey-hour-text").textContent=`${t}:00 ${d}`,document.getElementById("journey-location-text").textContent=i.loc,document.getElementById("journey-desc-text").textContent=i.desc,_(i.sounds,i.db,i.noData),X(i.db),te(s),j(m.persona,s),ee(T,m.persona.color),i.noData?M("flatline",i.db):i.sounds.length>0&&M(i.sounds[0],i.db)}function ne(){const s=document.getElementById("play-btn");if(m.isAutoPlaying){m.isAutoPlaying=!1,clearInterval(m.autoPlayInterval),s.classList.remove("active"),s.textContent="▶ AUTO-PLAY DAY";return}if(!m.persona)return;m.isAutoPlaying=!0,s.classList.add("active"),s.textContent="■ STOP",C(0);let i=0;m.autoPlayInterval=setInterval(()=>{i=(i+1)%24,C(i)},3e3)}document.getElementById("play-btn").addEventListener("click",ne);oe();
